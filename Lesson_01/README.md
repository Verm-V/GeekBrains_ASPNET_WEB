*[Назад](./../README.md)*  
  
### Задание для урока №1  
  
- [X] Необходимо написать консольное приложение, 
которое выполнит асинхронно **10** HTTP-запросов 
на получение постов из блога, по целочисленному идентификатору, 
начиная с **id=4** по **id=13**.  
Для выполнения запросов необходимо использовать **HttpClient**  
  
- [X] В результате работы программы должен получиться текстовый файл 
под названием result.txt, в котором сохранена полученная информация о постах 
в следующем формате:  
  
  **userId  
id  
title  
body**  
  
  Между постами присутствует пробел.  
Всего в файле должно оказаться 10 постов.  
    
  
---  
  
### Пояснения по выполнению задания  
  
В каталоге **Lesson_01** находятся два проекта:  
- **ASPNET_Lesson_01** - простой консольный проект, 
выполняющий задачу в лоб без всяких изысков.  
- **ASPNET_Lesson_01_DI** - проект выполняет ту же самую задачу, 
но с использованием *Dependency Injection* (через *IServiceCollection*)  
  
Я понимаю что, DI для данного задания избыточен, но решил сделать
второй проект для тренировки, т.к. технология для меня новая. 
До этого никогда не приходилось использовал DI в консольном приложении
(только в ASP.NET и WPF на предыдущем курсе)  
  
---  
  
Пояснения по второму проекту:  
Зарегистрировано несколько сервисов:  
- **IMyClient** - HTTP клиент делающий запросы к серверу 
и от которого можно получить либо отдельный пост либо их список.  
- **IPostsWriter.cs** - сохраняет список постов в файл на диск.  
- **MyApp.cs** - основной сервис из которого вызывается метод Run, 
содержащий основную логику приложения.  
  
Во втором проекте так же все делается через асинхронные методы.  
  
Подключено логгирование через NLog. Для удобства отладки, сделал nlog.config так, 
что помимо общего лога, в каталоге Logs/Separate ведется отдельный лог для каждого класса, 
с пометкой методов из которых выводятся сообщения.  
  
Дополнительно разобрался как отлавливать исключения при использовании метода 
**Task.WhenAll** если их вываливается несколько штук 
(через коллекцию Exception.InnerExceptions)  
  
---  
  